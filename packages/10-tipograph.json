{"version":"0.1beta","10-tipograph/1-tipograph.js":{"timestamp":1603739748244,"data":"LyoqCiAqIHRpcG9ncmFwaCB2MC43LjIgfCBDb3B5cmlnaHQgKGMpIDIwMjAgUGV0ciBOZXZ5aG/FoXTEm27DvQogKi8KCnZhciB0aXBvZ3JhcGggPSAoZnVuY3Rpb24gKCkgewogICAgJ3VzZSBzdHJpY3QnOwoKICAgIC8vLyAjIyMjIGh0bWwKICAgIC8vLwogICAgLy8vIEhUTUwgdGFncyBhcmUga2VwdCBhcyB0aGV5IGFyZS4gTW9yZW92ZXIsIGl0IGFsc28gcHJlc2VydmVzIHdob2xlIGNvbnRlbnRzIG9mIHRoZSBmb2xsb3dpbmcgdGFnczogcHJlLCBjb2RlLCBzdHlsZSwKICAgIC8vLyBzY3JpcHQuCgogICAgZnVuY3Rpb24gaHRtbCAoKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCkgewogICAgICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgdmFyIGxhc3QgPSAwOwogICAgICAgICAgICB2YXIgb3V0cHV0ID0gW107CgogICAgICAgICAgICB3aGlsZSAoKHJlc3VsdCA9IGZpbmRUYWcoaW5wdXQsIGxhc3QpKSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goeyB0cmFuc2Zvcm06IHRydWUsIGNvbnRlbnQ6IGlucHV0LnNsaWNlKGxhc3QsIHJlc3VsdFswXSkgfSk7CiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCh7IHRyYW5zZm9ybTogZmFsc2UsIGNvbnRlbnQ6IGlucHV0LnNsaWNlKHJlc3VsdFswXSwgcmVzdWx0WzFdKSB9KTsKICAgICAgICAgICAgICAgIGxhc3QgPSByZXN1bHRbMV07CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG91dHB1dC5wdXNoKHsgdHJhbnNmb3JtOiB0cnVlLCBjb250ZW50OiBpbnB1dC5zbGljZShsYXN0KSB9KTsKCiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7CiAgICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBmaW5kVGFnKGlucHV0LCBsYXN0KSB7CiAgICAgICAgLy8gZ2xvYmFsIGZsYWcgbmVlZGVkIGZvciBzZXR0aW5nIGBsYXN0SW5kZXhgIHByb3BlcnR5IHdoZW4gZG9pbmcgYGV4ZWNgCiAgICAgICAgdmFyIHBhdHRlcm4gPSAvPFsvIV0/W2Etel1bYS16MC05LV9dKnw8IS0tL2dpOwogICAgICAgIHBhdHRlcm4ubGFzdEluZGV4ID0gbGFzdDsKCiAgICAgICAgdmFyIHRhZ0VuZDsKICAgICAgICB2YXIgcmVzdWx0ID0gbnVsbDsKICAgICAgICBpZiAoKHJlc3VsdCA9IHBhdHRlcm4uZXhlYyhpbnB1dCkpICE9PSBudWxsKSB7CiAgICAgICAgICAgIHZhciB0YWcgPSByZXN1bHRbMF0udG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcmVzdWx0LmluZGV4OwogICAgICAgICAgICBpZiAodGFnID09PSAnPCEtLScpIHsKICAgICAgICAgICAgICAgIHZhciBjb21tZW50RW5kID0gZmluZENvbW1lbnRFbmQoaW5wdXQsIHBhdHRlcm4ubGFzdEluZGV4KTsKICAgICAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGNvbW1lbnRFbmRdOwogICAgICAgICAgICB9IGVsc2UgaWYgKFsnPHByZScsICc8Y29kZScsICc8c3R5bGUnLCAnPHNjcmlwdCddLmluZGV4T2YodGFnKSAhPSAtMSkgewogICAgICAgICAgICAgICAgdmFyIGNsb3NlVGFnID0gbmV3IFJlZ0V4cCh0YWdbMF0gKyAnLycgKyB0YWcuc2xpY2UoMSksICdnaScpOwogICAgICAgICAgICAgICAgY2xvc2VUYWcubGFzdEluZGV4ID0gcGF0dGVybi5sYXN0SW5kZXg7CiAgICAgICAgICAgICAgICBpZiAoKHJlc3VsdCA9IGNsb3NlVGFnLmV4ZWMoaW5wdXQpKSAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIHRhZ0VuZCA9IGZpbmRUYWdFbmQoaW5wdXQsIGNsb3NlVGFnLmxhc3RJbmRleCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtzdGFydCwgdGFnRW5kXTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gbm90IGNsb3NlZCBzcGVjaWFsIHRhZwogICAgICAgICAgICAgICAgICAgIHJldHVybiBbc3RhcnQsIGlucHV0Lmxlbmd0aF07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0YWdFbmQgPSBmaW5kVGFnRW5kKGlucHV0LCBwYXR0ZXJuLmxhc3RJbmRleCk7CiAgICAgICAgICAgICAgICByZXR1cm4gW3N0YXJ0LCB0YWdFbmRdOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGZpbmRUYWdFbmQoaW5wdXQsIGxhc3QpIHsKICAgICAgICB2YXIgc3RhdGUgPSAnaW5pdGlhbCc7CiAgICAgICAgdmFyIGVzY2FwZSA9IGZhbHNlOwoKICAgICAgICBmb3IgKHZhciBpID0gbGFzdDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gJ2luaXRpYWwnKSB7CiAgICAgICAgICAgICAgICBpZiAoaW5wdXRbaV0gPT09ICc+JykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBpICsgMTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPT09ICciJykgewogICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ2RvdWJsZSc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldID09PSAnXCcnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAnc2luZ2xlJzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ2RvdWJsZScpIHsKICAgICAgICAgICAgICAgIGlmIChpbnB1dFtpXSA9PT0gJyInICYmICFlc2NhcGUpIHsKICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICdpbml0aWFsJzsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPT09ICdcXCcpIHsKICAgICAgICAgICAgICAgICAgICBlc2NhcGUgPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlc2NhcGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PT0gJ3NpbmdsZScpIHsKICAgICAgICAgICAgICAgIGlmIChpbnB1dFtpXSA9PT0gJ1wnJyAmJiAhZXNjYXBlKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAnaW5pdGlhbCc7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgZXNjYXBlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXNjYXBlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBpbnB1dC5sZW5ndGg7CiAgICB9CgogICAgZnVuY3Rpb24gZmluZENvbW1lbnRFbmQoaW5wdXQsIGxhc3QpIHsKICAgICAgICB2YXIgcGF0dGVybiA9IC8tLT4vZzsKICAgICAgICBwYXR0ZXJuLmxhc3RJbmRleCA9IGxhc3Q7CgogICAgICAgIHZhciByZXN1bHQgPSBudWxsOwogICAgICAgIGlmICgocmVzdWx0ID0gcGF0dGVybi5leGVjKGlucHV0KSkgIT09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5pbmRleCArIDM7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIGlucHV0Lmxlbmd0aDsKICAgICAgICB9CiAgICB9CgogICAgLy8vICMjIyMgcGxhaW4KICAgIC8vLwogICAgLy8vIElucHV0IGNvbnRlbnQgaXMgcHJlc2VydmVkIGFzIGl0IGlzLgoKICAgIGZ1bmN0aW9uIHBsYWluICgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7CiAgICAgICAgICAgIHJldHVybiBbeyB0cmFuc2Zvcm06IHRydWUsIGNvbnRlbnQ6IGlucHV0IH1dOwogICAgICAgIH07CiAgICB9CgogICAgdmFyIGZvcm1hdHMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7CiAgICAgICAgX19wcm90b19fOiBudWxsLAogICAgICAgIGh0bWw6IGh0bWwsCiAgICAgICAgcGxhaW46IHBsYWluCiAgICB9KTsKCiAgICB2YXIgRE9VQkxFX09QRU5fVVAgPSAnXHUyMDFDJzsKICAgIHZhciBET1VCTEVfQ0xPU0VfVVAgPSAnXHUyMDFEJzsKICAgIHZhciBTSU5HTEVfT1BFTl9VUCA9ICdcdTIwMTgnOwogICAgdmFyIFNJTkdMRV9DTE9TRV9VUCA9ICdcdTIwMTknOwogICAgdmFyIERPVUJMRV9PUEVOX0RPV04gPSAnXHUyMDFFJzsKICAgIHZhciBTSU5HTEVfT1BFTl9ET1dOID0gJ1x1MjAxQSc7CiAgICB2YXIgRE9VQkxFX0xFRlQgPSAnXHUwMEFCJzsKICAgIHZhciBTSU5HTEVfTEVGVCA9ICdcdTIwMzknOwogICAgdmFyIERPVUJMRV9SSUdIVCA9ICdcdTAwQkInOwogICAgdmFyIFNJTkdMRV9SSUdIVCA9ICdcdTIwM0EnOwogICAgdmFyIERPVUJMRV9MRUZUX1NQQUNFID0gJ1x1MDBBQlx1MDBBMCc7CiAgICB2YXIgU0lOR0xFX0xFRlRfU1BBQ0UgPSAnXHUyMDM5XHUwMEEwJzsKICAgIHZhciBET1VCTEVfU1BBQ0VfUklHSFQgPSAnXHUwMEEwXHUwMEJCJzsKICAgIHZhciBTSU5HTEVfU1BBQ0VfUklHSFQgPSAnXHUwMEEwXHUyMDNBJzsKICAgIHZhciBET1VCTEVfVE9QX0NPUk5FUiA9ICdcdTMwMEMnOwogICAgdmFyIFNJTkdMRV9UT1BfQ09STkVSID0gJ1x1MzAwRSc7CiAgICB2YXIgRE9VQkxFX0JPVFRPTV9DT1JORVIgPSAnXHUzMDBEJzsKICAgIHZhciBTSU5HTEVfQk9UVE9NX0NPUk5FUiA9ICdcdTMwMEYnOwoKICAgIHZhciBxdW90ZXMgPSAvKiNfX1BVUkVfXyovT2JqZWN0LmZyZWV6ZSh7CiAgICAgICAgX19wcm90b19fOiBudWxsLAogICAgICAgIERPVUJMRV9PUEVOX1VQOiBET1VCTEVfT1BFTl9VUCwKICAgICAgICBET1VCTEVfQ0xPU0VfVVA6IERPVUJMRV9DTE9TRV9VUCwKICAgICAgICBTSU5HTEVfT1BFTl9VUDogU0lOR0xFX09QRU5fVVAsCiAgICAgICAgU0lOR0xFX0NMT1NFX1VQOiBTSU5HTEVfQ0xPU0VfVVAsCiAgICAgICAgRE9VQkxFX09QRU5fRE9XTjogRE9VQkxFX09QRU5fRE9XTiwKICAgICAgICBTSU5HTEVfT1BFTl9ET1dOOiBTSU5HTEVfT1BFTl9ET1dOLAogICAgICAgIERPVUJMRV9MRUZUOiBET1VCTEVfTEVGVCwKICAgICAgICBTSU5HTEVfTEVGVDogU0lOR0xFX0xFRlQsCiAgICAgICAgRE9VQkxFX1JJR0hUOiBET1VCTEVfUklHSFQsCiAgICAgICAgU0lOR0xFX1JJR0hUOiBTSU5HTEVfUklHSFQsCiAgICAgICAgRE9VQkxFX0xFRlRfU1BBQ0U6IERPVUJMRV9MRUZUX1NQQUNFLAogICAgICAgIFNJTkdMRV9MRUZUX1NQQUNFOiBTSU5HTEVfTEVGVF9TUEFDRSwKICAgICAgICBET1VCTEVfU1BBQ0VfUklHSFQ6IERPVUJMRV9TUEFDRV9SSUdIVCwKICAgICAgICBTSU5HTEVfU1BBQ0VfUklHSFQ6IFNJTkdMRV9TUEFDRV9SSUdIVCwKICAgICAgICBET1VCTEVfVE9QX0NPUk5FUjogRE9VQkxFX1RPUF9DT1JORVIsCiAgICAgICAgU0lOR0xFX1RPUF9DT1JORVI6IFNJTkdMRV9UT1BfQ09STkVSLAogICAgICAgIERPVUJMRV9CT1RUT01fQ09STkVSOiBET1VCTEVfQk9UVE9NX0NPUk5FUiwKICAgICAgICBTSU5HTEVfQk9UVE9NX0NPUk5FUjogU0lOR0xFX0JPVFRPTV9DT1JORVIKICAgIH0pOwoKICAgIC8vLyAjIyMjIGNoaW5lc2UKCiAgICB2YXIgY2hpbmVzZSA9IHsKICAgICAgICBxdW90ZXM6IFsKICAgICAgICAgICAgW0RPVUJMRV9UT1BfQ09STkVSLCBET1VCTEVfQk9UVE9NX0NPUk5FUl0sCiAgICAgICAgICAgIFtTSU5HTEVfVE9QX0NPUk5FUiwgU0lOR0xFX0JPVFRPTV9DT1JORVJdCiAgICAgICAgXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICAvLy8gIyMjIyBjemVjaAoKICAgIHZhciBjemVjaCA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX09QRU5fRE9XTiwgRE9VQkxFX09QRU5fVVBdLCBbU0lOR0xFX09QRU5fRE9XTiwgU0lOR0xFX09QRU5fVVBdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbCiAgICAgICAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZSBhZnRlciBvbmUtbGV0dGVyIHByZXBvc2l0aW9ucyBhbmQgY29uanVjdGlvbnMKICAgICAgICAgICAgWy8oXHN8XikoW0trU3NWdlp6T29VdUFJXSkoPzpccyspKFxTKS9nLCAnJDEkMlx1MDBBMCQzJ10KICAgICAgICBdCiAgICB9OwoKICAgIC8vLyAjIyMjIGRhbmlzaAoKICAgIHZhciBkYW5pc2ggPSB7CiAgICAgICAgcXVvdGVzOiBbW0RPVUJMRV9SSUdIVCwgRE9VQkxFX0xFRlRdLCBbRE9VQkxFX09QRU5fRE9XTiwgRE9VQkxFX09QRU5fVVBdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICAvLy8gIyMjIyBlbmdsaXNoCgogICAgdmFyIGVuZ2xpc2ggPSB7CiAgICAgICAgcXVvdGVzOiBbW0RPVUJMRV9PUEVOX1VQLCBET1VCTEVfQ0xPU0VfVVBdLCBbU0lOR0xFX09QRU5fVVAsIFNJTkdMRV9DTE9TRV9VUF1dLAogICAgICAgIGRhc2g6ICdlbicsCiAgICAgICAgcnVsZXM6IFtdCiAgICB9OwoKICAgIC8vLyAjIyMjIGZpbm5pc2gKCiAgICB2YXIgZmlubmlzaCA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX0NMT1NFX1VQLCBET1VCTEVfQ0xPU0VfVVBdLCBbU0lOR0xFX0NMT1NFX1VQLCBTSU5HTEVfQ0xPU0VfVVBdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICAvLy8gIyMjIyBmcmVuY2gKCiAgICB2YXIgZnJlbmNoID0gewogICAgICAgIHF1b3RlczogW1tET1VCTEVfTEVGVF9TUEFDRSwgRE9VQkxFX1NQQUNFX1JJR0hUXSwgW0RPVUJMRV9PUEVOX1VQLCBET1VCTEVfQ0xPU0VfVVBdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICAvLy8gIyMjIyBnZXJtYW4KCiAgICB2YXIgZ2VybWFuID0gewogICAgICAgIHF1b3RlczogW1tET1VCTEVfT1BFTl9ET1dOLCBET1VCTEVfT1BFTl9VUF0sIFtTSU5HTEVfT1BFTl9ET1dOLCBTSU5HTEVfT1BFTl9VUF1dLAogICAgICAgIGRhc2g6ICdlbicsCiAgICAgICAgcnVsZXM6IFtdCiAgICB9OwoKICAgIC8vLyAjIyMjIGl0YWxpYW4KCiAgICB2YXIgaXRhbGlhbiA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX0xFRlQsIERPVUJMRV9SSUdIVF0sIFtET1VCTEVfT1BFTl9VUCwgRE9VQkxFX0NMT1NFX1VQXV0sCiAgICAgICAgZGFzaDogJ2VuJywKICAgICAgICBydWxlczogW10KICAgIH07CgogICAgLy8vICMjIyMgamFwYW5lc2UKCiAgICB2YXIgamFwYW5lc2UgPSB7CiAgICAgICAgcXVvdGVzOiBbCiAgICAgICAgICAgIFtET1VCTEVfVE9QX0NPUk5FUiwgRE9VQkxFX0JPVFRPTV9DT1JORVJdLAogICAgICAgICAgICBbU0lOR0xFX1RPUF9DT1JORVIsIFNJTkdMRV9CT1RUT01fQ09STkVSXQogICAgICAgIF0sCiAgICAgICAgZGFzaDogJ2VuJywKICAgICAgICBydWxlczogW10KICAgIH07CgogICAgLy8vICMjIyMgamFwYW5lc2UKCiAgICB2YXIgbm9yd2VnaWFuID0gewogICAgICAgIHF1b3RlczogW1tET1VCTEVfTEVGVCwgRE9VQkxFX1JJR0hUXSwgW1NJTkdMRV9DTE9TRV9VUCwgU0lOR0xFX0NMT1NFX1VQXV0sCiAgICAgICAgZGFzaDogJ2VuJywKICAgICAgICBydWxlczogW10KICAgIH07CgogICAgLy8vICMjIyMgcG9saXNoCgogICAgdmFyIHBvbGlzaCA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX09QRU5fRE9XTiwgRE9VQkxFX0NMT1NFX1VQXSwgW0RPVUJMRV9MRUZULCBET1VCTEVfUklHSFRdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICAvLy8gIyMjIyBwb3J0dWd1ZXNlCgogICAgdmFyIHBvcnR1Z3Vlc2UgPSB7CiAgICAgICAgcXVvdGVzOiBbW0RPVUJMRV9PUEVOX1VQLCBET1VCTEVfQ0xPU0VfVVBdLCBbU0lOR0xFX09QRU5fVVAsIFNJTkdMRV9DTE9TRV9VUF1dLAogICAgICAgIGRhc2g6ICdlbicsCiAgICAgICAgcnVsZXM6IFtdCiAgICB9OwoKICAgIC8vLyAjIyMjIHJ1c3NpYW4KCiAgICB2YXIgcnVzc2lhbiA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX0xFRlQsIERPVUJMRV9SSUdIVF0sIFtET1VCTEVfT1BFTl9ET1dOLCBET1VCTEVfT1BFTl9VUF1dLAogICAgICAgIGRhc2g6ICdlbicsCiAgICAgICAgcnVsZXM6IFtdCiAgICB9OwoKICAgIC8vLyAjIyMjIHNwYW5pc2gKCiAgICB2YXIgc3BhbmlzaCA9IHsKICAgICAgICBxdW90ZXM6IFtbRE9VQkxFX0xFRlQsIERPVUJMRV9SSUdIVF0sIFtET1VCTEVfT1BFTl9VUCwgRE9VQkxFX0NMT1NFX1VQXV0sCiAgICAgICAgZGFzaDogJ2VuJywKICAgICAgICBydWxlczogW10KICAgIH07CgogICAgLy8vICMjIyMgc3dlZGlzaAoKICAgIHZhciBzd2VkaXNoID0gewogICAgICAgIHF1b3RlczogW1tET1VCTEVfQ0xPU0VfVVAsIERPVUJMRV9DTE9TRV9VUF0sIFtTSU5HTEVfQ0xPU0VfVVAsIFNJTkdMRV9DTE9TRV9VUF1dLAogICAgICAgIGRhc2g6ICdlbicsCiAgICAgICAgcnVsZXM6IFtdCiAgICB9OwoKICAgIC8vLyAjIyMjIHN3aXNzCgogICAgdmFyIHN3aXNzID0gewogICAgICAgIHF1b3RlczogW1tET1VCTEVfTEVGVCwgRE9VQkxFX1JJR0hUXSwgW1NJTkdMRV9MRUZULCBTSU5HTEVfUklHSFRdXSwKICAgICAgICBkYXNoOiAnZW4nLAogICAgICAgIHJ1bGVzOiBbXQogICAgfTsKCiAgICB2YXIgbGFuZ3VhZ2VzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoewogICAgICAgIF9fcHJvdG9fXzogbnVsbCwKICAgICAgICBjaGluZXNlOiBjaGluZXNlLAogICAgICAgIGN6ZWNoOiBjemVjaCwKICAgICAgICBkYW5pc2g6IGRhbmlzaCwKICAgICAgICBlbmdsaXNoOiBlbmdsaXNoLAogICAgICAgIGZpbm5pc2g6IGZpbm5pc2gsCiAgICAgICAgZnJlbmNoOiBmcmVuY2gsCiAgICAgICAgZ2VybWFuOiBnZXJtYW4sCiAgICAgICAgaXRhbGlhbjogaXRhbGlhbiwKICAgICAgICBqYXBhbmVzZTogamFwYW5lc2UsCiAgICAgICAgbm9yd2VnaWFuOiBub3J3ZWdpYW4sCiAgICAgICAgcG9saXNoOiBwb2xpc2gsCiAgICAgICAgcG9ydHVndWVzZTogcG9ydHVndWVzZSwKICAgICAgICBydXNzaWFuOiBydXNzaWFuLAogICAgICAgIHNwYW5pc2g6IHNwYW5pc2gsCiAgICAgICAgc3dlZGlzaDogc3dlZGlzaCwKICAgICAgICBzd2lzczogc3dpc3MKICAgIH0pOwoKICAgIC8vLyAjIyMjIGh5cGhlbnMKICAgIC8vLwogICAgLy8vIEh5cGhlbnMgYXJlIHByZXNlbnQgb24gb3VyIGtleWJvYXJkcyBhbmQgYXJlIHVzZWQgbW9zdGx5IHRvIHNlcGFyYXRlIG11bHRpcGFydCB3b3JkcyAoImNvc3QtZWZmZWN0aXZlIikgb3IKICAgIC8vLyBtdWx0aXdvcmQgcGhyYXNlcyB3aGljaCBuZWVkIHRvIGJlIHRvZ2V0aGVyICgiaGlnaC1zY2hvb2wgZ3JhZGVzIikuIERhc2hlcyBjb21lIGluIHR3byBzaXplczogZW4gZGFzaCBhbmQgZW0gZGFzaC4KICAgIC8vLyBFbiBkYXNoIGlzIHVzZWQgaW5zdGVhZCBvZiBoeXBoZW4gaW4gbnVtYmVyIHJhbmdlcyAoIjEtNSIpLCBvciB3aGVuIHR3byBjb25zZWN1dGl2ZSBoeXBoZW5zIGFyZSBmb3VuZC4gRW0gZGFzaCBpcwogICAgLy8vIHVzZSB3aGVuIHRocmVlIGNvbnNlY3V0aXZlIGh5cGhlbnMgYXJlIGZvdW5kLiBCb3RoIGNhbiBiZSB1c2VkIGFzIGEgYnJlYWsgaW4gYSBzZW50ZW5jZSAoInRpcG9ncmFwaCAtIGV2ZW4gaWYgaXQncwogICAgLy8vIGp1c3QgYSBzZXQgb2Ygc2ltcGxlIHJ1bGVzIC0gY2FuIGltcHJvdmUgdHlwb2dyYXBoeSBpbiB5b3VyIGNvbnRlbnQiKS4gV2hldGhlciBlbiBkYXNoIG9yIGVtIGRhc2ggd2lsbCBiZSB1c2VkIGZvcgogICAgLy8vIHRoaXMgY2FzZSBkZXBlbmRzIG9uIHRoZSBzZXR0aW5nIG9mIHRoZSBsYW5ndWFnZSBvciBpdCBjYW4gYmUgb3ZlcnJpZGRlbiBieSBgZGFzaDogJ2VuJyB8ICdlbSdgIGluIHRpcG9ncmFwaAogICAgLy8vIG9wdGlvbnMuCgogICAgZnVuY3Rpb24gaHlwaGVucyAobGFuZ3VhZ2UsIG9wdGlvbnMpIHsKICAgICAgICB2YXIgZW5SdWxlID0gWy9cdTAwMjArLVx1MDAyMCsvZywgJ1x1MDAyMFx1MjAxM1x1MDAyMCddOwogICAgICAgIHZhciBlbVJ1bGUgPSBbL1x1MDAyMCstXHUwMDIwKy9nLCAnXHUyMDBhXHUyMDE0XHUyMDBhJ107CgogICAgICAgIHZhciBkYXNoID0gb3B0aW9ucy5kYXNoIHx8IGxhbmd1YWdlLmRhc2g7CgogICAgICAgIHZhciBkYXNoUnVsZSA9IGVuUnVsZTsKICAgICAgICBzd2l0Y2ggKGRhc2gpIHsKICAgICAgICAgICAgY2FzZSAnZW4nOgogICAgICAgICAgICAgICAgZGFzaFJ1bGUgPSBlblJ1bGU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnZW0nOgogICAgICAgICAgICAgICAgZGFzaFJ1bGUgPSBlbVJ1bGU7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignaW52YWxpZCBvcHRpb24gYGRhc2g6ICcgKyBkYXNoICsgJ2AnKTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgLy8gTk9URTogY29uc2VjdXRpdmUgaHlwaGVucyAoMiBvciAzKSBhcmUgYWx3YXlzIHRyYW5zZm9ybWVkLCBiZWNhdXNlIGl0J3MgYSB1c2VyJ3MgY2hvaWNlLCBldmVuIGlmIGl0IGlzIGJhZCBpbiB0aGUKICAgICAgICAvLyAgICAgICBjb250ZXh0CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgICAgLy8gZW0gZGFzaAogICAgICAgICAgICBbL1x1MDAyMCotLS0oXHI/XG58JCkvZywgJ1x1MjAwYVx1MjAxNCQxJ10sCiAgICAgICAgICAgIFsvXHUwMDIwKi0tLVx1MDAyMCovZywgJ1x1MjAwYVx1MjAxNFx1MjAwYSddLAogICAgICAgICAgICAvLyBlbiBkYXNoCiAgICAgICAgICAgIFsvLS0vZywgJ1x1MjAxMyddLAogICAgICAgICAgICAvLyBudW1iZXIgcmFuZ2UKICAgICAgICAgICAgWy8oXGQpLShcZCkvZywgJyQxXHUyMDEzJDInXSwKICAgICAgICAgICAgLy8gZGVmYXVsdCBkYXNoCiAgICAgICAgICAgIGRhc2hSdWxlCiAgICAgICAgXTsKICAgIH0KCiAgICAvLy8gIyMjIyBsYW5ndWFnZQogICAgLy8vCiAgICAvLy8gVGhpcyBwcmVzZXQgb25seSBhcHBsaWVzIGxhbmd1YWdlIHNwZWNpZmljIHJ1bGVzIGRlZmluZWQgaW4gbGFuZ3VhZ2UgZ2l2ZW4gYXQgdGlwb2dyYXBoIGluc3RhbmNlIGluaXRpYWxpemF0aW9uLgoKICAgIGZ1bmN0aW9uIGxhbmd1YWdlIChsYW5ndWFnZSkgewogICAgICAgIHJldHVybiBsYW5ndWFnZS5ydWxlczsKICAgIH0KCiAgICAvLy8gIyMjIyBtYXRoCiAgICAvLy8KICAgIC8vLyBVbmZvcnR1bmF0ZWx5LCBtYWpvcml0eSBvZiBuaWNlIG1hdGhlbWF0aWNhbCBzeW1ib2xzIGlzIG5vdCBwcmVzZW50IG9uIG91ciBrZXlib2FyZC4gV2hlcmUgaXQgbWFrZSBzZW5zZSwKICAgIC8vLyAqdGlwb2dyYXBoKiB0cmllcyB0byBwdXQgdGhlbSBpbnN0ZWFkIG9mIHRoZWlyIHBvb3Igc3Vic3RpdHVlcy4gRm9yIGV4YW1wbGUsIG1pbnVzIHNpZ24gKHRoYXQncyByaWdodCwgZXZlbiBtaW51cwogICAgLy8vIHNpZ24gaGFzIGl0cyBzcGVjaWFsIGNoYXJhY3RlcikgaW5zdGVhZCBvZiBoeXBoZW4sIG11bHRpcGxpY2F0aW9uIHNpZ24gaW5zdGVhZCBvZiB0aGUgbGV0dGVyICJ4IiwgZXRjLiBJbWFnaW5lIGhvdwogICAgLy8vIHlvdSB3b3VsZCB3cml0ZSB0aGlzIGZvcm11bGEganVzdCBieSBoYW5kOiAyICogMyAhPSA1LgoKICAgIGZ1bmN0aW9uIG1hdGggKCkgewogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIC8vIHN1YnRyYWN0aW9uCiAgICAgICAgICAgIFsvKFxkXHMpLShcc1xkKS9nLCAnJDFcdTIyMTIkMiddLAogICAgICAgICAgICAvLyBwbHVzbWludXMKICAgICAgICAgICAgWy9cKy0vZywgJ1x1MDBCMSddLAogICAgICAgICAgICAvLyBuZWdhdGl2ZQogICAgICAgICAgICBbLy0oXGQpL2csICdcdTIyMTIkMSddLAogICAgICAgICAgICAvLyBtdWx0aXBsaWNhdGlvbgogICAgICAgICAgICBbLyhcZFxzKVt4Kl0oXHNcZCkvZywgJyQxXHUwMEQ3JDInXSwKICAgICAgICAgICAgLy8gZGl2aXNpb24KICAgICAgICAgICAgWy8oXGRccylcLyhcc1xkKS9nLCAnJDFcdTAwRjckMiddLAogICAgICAgICAgICAvLyBpbmVxdWFsaXR5CiAgICAgICAgICAgIFsvIT0vZywgJ1x1MjI2MCddCiAgICAgICAgXTsKICAgIH0KCiAgICAvLy8gIyMjIyBxdW90ZXMKICAgIC8vLwogICAgLy8vIE5pY2UgcXVvdGVzIGFyZSBwcm9iYWJseSB0aGUgbW9zdCB2aXNpYmxlIGZlYXR1cmUgb2YgY29ycmVjdCB0eXBvZ3JhcGh5LiBPbiBvdXIga2V5Ym9hcmRzLCB3ZSBoYXZlIGp1c3QgdGhlc2UKICAgIC8vLyBzdHJhaWdodCBvbmUgd2hpY2ggYXJlIHByZXR0eSB1Z2x5LiBIb3dldmVyLCAqdGlwb2dyYXBoKiB0cmllcyB0byByZXBsYWNlIHRoZW0gd2l0aCB0aGVpciBjb3JyZWN0IGNvdW50ZXJwYXJ0cyAtIGFuZAogICAgLy8vIGl0IGV2ZW4gdGFrZXMgbGFuZ3VhZ2UgaGFiaXRzIGludG8gYWNjb3VudC4gTW9yZW92ZXIsIGl0IGF0dGVtcHRzIHRvIGhhbmRsZSBhcG9zdHJvcGhlcywgaW5jaCBhbmQgZm9vdCB1bml0cwogICAgLy8vIHN5bWJvbHMsIG9yIGZpeCBzb21lIHdyaXRlcnMnIGJhZCBoYWJiaXRzIChzdWNoIGFzIHR3byBjb25zZWN1dGl2ZSBjb21tYXMgaW4gb3JkZXIgdG8gaW1pdGF0ZSBib3R0b20gOTktc2hhcGVkCiAgICAvLy8gcXVvdGVzKS4KCiAgICBmdW5jdGlvbiBxdW90ZXMkMSAobGFuZ3VhZ2UpIHsKICAgICAgICB2YXIgZG91YmxlT3BlbiA9IGxhbmd1YWdlLnF1b3Rlc1swXVswXTsKICAgICAgICB2YXIgZG91YmxlQ2xvc2UgPSBsYW5ndWFnZS5xdW90ZXNbMF1bMV07CiAgICAgICAgdmFyIHNpbmdsZU9wZW4gPSBsYW5ndWFnZS5xdW90ZXNbMV1bMF07CiAgICAgICAgdmFyIHNpbmdsZUNsb3NlID0gbGFuZ3VhZ2UucXVvdGVzWzFdWzFdOwoKICAgICAgICAvLyBIQUNLOiBcdTIwMEIgaXMgdXNlZCBpbnRlcm5hbGx5IGJ5IHRpcG9ncmFwaCB0byBzZXBhcmF0ZSBpbnB1dCBmb3JtYXQgKGUuZy4sIGh0bWwpIHRhZyBwbGFjZWhvbGRlcnMgZnJvbSB0aGUKICAgICAgICAvLyAgICAgICBvdGhlciBjb250ZW50LgoKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAvLyB0d28gY29tbWFzIGludG8gZG91YmxlIG9wZW4gZG93bgogICAgICAgICAgICBbLyhcc3xcKHxefFx1MjAwQiksLChbXiInXSopKFxTKSg/OiJ8JycpL2csICckMVx1MjAxRSQyJDMnICsgZG91YmxlQ2xvc2VdLAogICAgICAgICAgICAvLyBvbmUgY29tbWEgaW50byBzaW5nbGUgb3BlbiBkb3duIGluIGNlcnRhaW4gY2FzZXMKICAgICAgICAgICAgWy8oXHN8XCh8XnxcdTIwMEIpLCg/IVxzKShbXiddKikoXFMpJy9nLCAnJDFcdTIwMUEkMiQzJyArIHNpbmdsZUNsb3NlXSwKICAgICAgICAgICAgLy8gYXBvc3Ryb3BoZQogICAgICAgICAgICBbLyhbYS16XSknKFthLXpdKS9naSwgJyQxXHUyMDE5JDInXSwKICAgICAgICAgICAgLy8gZGVjYWRlcwogICAgICAgICAgICBbLyhcc3xcdTIwMEIpJyhcZHsyfSkvZywgJyQxXHUyMDE5JDInXSwKICAgICAgICAgICAgLy8gZG91YmxlIGN1cmx5IHF1b3RlcwogICAgICAgICAgICBbLyhcc3xcKHxefFx1MjAwQikiKD8hXHMpKFteIl0qKShcUykiL2csICckMScgKyBkb3VibGVPcGVuICsgJyQyJDMnICsgZG91YmxlQ2xvc2VdLAogICAgICAgICAgICBbLyhcc3xcKHxefFx1MjAwQikmcXVvdDsoPyFccykoKD8hJnF1b3Q7KS4qKShcUykmcXVvdDsvZywgJyQxJyArIGRvdWJsZU9wZW4gKyAnJDIkMycgKyBkb3VibGVDbG9zZV0sCiAgICAgICAgICAgIC8vIHNpbmdsZSBjdXJseSBxdW90ZXMKICAgICAgICAgICAgWy8oXHN8XCh8XnxcdTIwMEIpJyg/IVxzKShbXiddKikoXFMpJy9nLCAnJDEnICsgc2luZ2xlT3BlbiArICckMiQzJyArIHNpbmdsZUNsb3NlXSwKICAgICAgICAgICAgLy8gaW5jaGVzCiAgICAgICAgICAgIFsvKFxkKSIvZywgJyQxXHUyMDMzJ10sCiAgICAgICAgICAgIC8vIGZlZXQKICAgICAgICAgICAgWy8oXGQpJy9nLCAnJDFcdTIwMzInXQogICAgICAgIF07CiAgICB9CgogICAgLy8vICMjIyMgc3BhY2VzCiAgICAvLy8KICAgIC8vLyBFdmVuIHRoYXQgdGhleSBhcmUgbm90IHZpc2libGUsIHNwYWNlcyBwbGF5IGltcG9ydGFudCByb2xlIGluIHR5cG9ncmFwaHkuIE9ubHkgb25lIHdvcmQgc3BhY2Ugc2hvdWxkIGJlIHVzZWQgYXQgYQogICAgLy8vIHRpbWUuIEFsc28sIGluIHNvbWUgY2FzZXMsIHRoZXJlIHNob3VsZCBiZSBub24tYnJlYWtpbmcgc3BhY2UgaW5zdGVhZCBvZiBub3JtYWwgb25lIChmb3IgZXhhbXBsZSBhZnRlciBzb21lIHNwZWNpYWwKICAgIC8vLyBzeW1ib2xzKS4KCiAgICBmdW5jdGlvbiBzcGFjZXMgKCkgewogICAgICAgIHJldHVybiBbCiAgICAgICAgICAgIC8vIG11bHRpcGxlIHNwYWNlcwogICAgICAgICAgICBbLyB7Mix9L2csICcgJ10sCiAgICAgICAgICAgIC8vIHNwZWNpYWwgc3ltYm9sczogKHBhcmFncmFwaCwgc2VjdGlvbiwgY29weXJpZ2h0LCB0cmFkZW1hcmssIHJlZ2lzdGVyZWQgdHJhZGVtYXJrKQogICAgICAgICAgICBbLyhcdTAwQjZ8XHUwMEE3fFx1MDBBOXxcdTIxMjJ8XHUwMEFFKSAvZywgJyQxXHUwMEEwJ10KICAgICAgICBdOwogICAgfQoKICAgIC8vLyAjIyMjIHN5bWJvbHMKICAgIC8vLwogICAgLy8vIFRoZXJlIGFyZSBhIGxvdCBvZiBzcGVjaWFsIHN5bWJvbHMgd2hpY2ggd2UgZG9uJ3Qga25vdyBob3cgdG8gd3JpdGUgYW5kIHRoYXQgbWFrZXMgdXMgc2FkLiBJbnN0ZWFkLCB3ZSB0ZW5kIHRvIHVzZQogICAgLy8vIHNvbWUgc3Vic3RpdHVlcyBmb3IgdGhlbS4gQW5kICp0aXBvZ3JhcGgqIHJlcGxhY2VzIHRoZXNlIHN1YnN0aXR1ZXMgd2l0aCB0aGVpciBhY3R1YWwgY2hhcmFjdGVycywgZm9yIGV4YW1wbGUKICAgIC8vLyBjb3B5cmlnaHQgb3IgdHJhZGVtYXJrIHN5bWJvbHMuIEl0IGFsc28gY2hhbmdlcyAiPz8iLCAiPyEiIGFuZCAiIT8iIGludG8gbGlnYXR1cmUgY291bnRlcnBhcnRzLiBBbHNvLCBtdWx0aXBsZQogICAgLy8vIHF1ZXN0aW9uIG1hcmtzIChtb3JlIHRoYW4gdHdvKSBvciBleGNsYW1hdGlvbiBwb2ludHMgKG1vcmUgdGhhbiBvbmUpIGFyZSBzcXVhc2hlZC4KCiAgICBmdW5jdGlvbiBzeW1ib2xzICgpIHsKICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAvLyBjb3B5cmlnaHQgKFxzIGJlZm9yZSAoPzpjfEMpIG5vdCB0byBtYXRjaCBlLmcuICIxMihjKSIpCiAgICAgICAgICAgIFsvKFxzfF4pXCgoPzpjfEMpXClccz8vZywgJyQxXHUwMEE5XHUwMEEwJ10sCiAgICAgICAgICAgIC8vIHRyYWRlbWFyawogICAgICAgICAgICBbL1woKD86dG18VE0pXClccz8vZywgJ1x1MjEyMlx1MDBBMCddLAogICAgICAgICAgICAvLyByZWdpc3RlcmVkIHRyYWRlbWFyawogICAgICAgICAgICBbL1woKD86cnxSKVwpXHM/L2csICdcdTAwQUVcdTAwQTAnXSwKICAgICAgICAgICAgLy8gZWxsaXBzaXMKICAgICAgICAgICAgWy8oW14uXXxeKVwuXC5cLihbXi5dfCQpL2csICckMVx1MjAyNiQyJ10sCiAgICAgICAgICAgIC8vIGFycm93cwogICAgICAgICAgICBbLzwtL2csICdcdTIxOTAnXSwKICAgICAgICAgICAgWy8mbHQ7LS9nLCAnXHUyMTkwJ10sCiAgICAgICAgICAgIFsvLT4vZywgJ1x1MjE5MiddLAogICAgICAgICAgICBbLy0mZ3Q7L2csICdcdTIxOTInXSwKICAgICAgICAgICAgLy8gcXVlc3Rpb24vZXhjbGFtYXRpb24gbWFya3MKICAgICAgICAgICAgWy9cPyErL2csICdcdTIwNDgnXSwKICAgICAgICAgICAgWy8hXD8rL2csICdcdTIwNDknXSwKICAgICAgICAgICAgWy9cP3syLH0vZywgJ1x1MjA0NyddLAogICAgICAgICAgICBbLyF7Mix9L2csICchJ10sCiAgICAgICAgXTsKICAgIH0KCiAgICB2YXIgcHJlc2V0cyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKICAgICAgICBfX3Byb3RvX186IG51bGwsCiAgICAgICAgaHlwaGVuczogaHlwaGVucywKICAgICAgICBsYW5ndWFnZTogbGFuZ3VhZ2UsCiAgICAgICAgbWF0aDogbWF0aCwKICAgICAgICBxdW90ZXM6IHF1b3RlcyQxLAogICAgICAgIHNwYWNlczogc3BhY2VzLAogICAgICAgIHN5bWJvbHM6IHN5bWJvbHMKICAgIH0pOwoKICAgIC8vLyAjIyMjIGh0bWwKICAgIC8vLwogICAgLy8vIFNwZWNpYWwgY2hhcmFjdGVycyBhcmUgcmVwbGFjZWQgd2l0aCBjb3JyZXNwb25kaW5nIEhUTUwgZW50aXRpZXMgKGluIGZvcm0gJmVudGl0eTspLgoKICAgIHZhciBodG1sJDEgPSB7CiAgICAgICAgJ1x1MDBBMCc6ICcmbmJzcDsnLAogICAgICAgICdcdTAwQTcnOiAnJnNlY3Q7JywKICAgICAgICAnXHUwMEE5JzogJyZjb3B5OycsCiAgICAgICAgJ1x1MDBBRSc6ICcmcmVnOycsCiAgICAgICAgJ1x1MDBCMSc6ICcmcGx1c21uOycsCiAgICAgICAgJ1x1MDBCNic6ICcmcGFyYTsnLAogICAgICAgICdcdTIxMjInOiAnJnRyYWRlOycsCiAgICAgICAgJ1x1MjAxMyc6ICcmbmRhc2g7JywKICAgICAgICAnXHUyMDE0JzogJyZtZGFzaDsnLAogICAgICAgICdcdTIwMjYnOiAnJmhlbGxpcDsnLAogICAgICAgICdcdTIxOTAnOiAnJmxhcnI7JywKICAgICAgICAnXHUyMTkyJzogJyZyYXJyOycsCiAgICAgICAgJ1x1MjIxMic6ICcmbWludXM7JywKICAgICAgICAnXHUwMEQ3JzogJyZ0aW1lczsnLAogICAgICAgICdcdTIyNjAnOiAnJm5lOycsCiAgICAgICAgJ1x1MDBBQic6ICcmbGFxdW87JywKICAgICAgICAnXHUwMEJCJzogJyZyYXF1bzsnLAogICAgICAgICdcdTIwMTgnOiAnJmxzcXVvOycsCiAgICAgICAgJ1x1MjAxOSc6ICcmcnNxdW87JywKICAgICAgICAnXHUyMDFBJzogJyZzYnF1bzsnLAogICAgICAgICdcdTIwMzInOiAnJnByaW1lOycsCiAgICAgICAgJ1x1MjAzMyc6ICcmUHJpbWU7JywKICAgICAgICAnXHUyMDFDJzogJyZsZHF1bzsnLAogICAgICAgICdcdTIwMUQnOiAnJnJkcXVvOycsCiAgICAgICAgJ1x1MjAxRSc6ICcmYmRxdW87JwogICAgfTsKCiAgICAvLy8gIyMjIyBsYXRleAogICAgLy8vCiAgICAvLy8gU3BlY2lhbCBjaGFyYWN0ZXJzIGFyZSByZXBsYWNlZCB3aXRoIGNvcnJlc3BvbmRpbmcgTGFUZVggbWFjcm9zLCBzb21ldGltZXMgd3JhcHBlZCBpbiBpbmxpbmUgbWF0aCBibG9jay4KCiAgICB2YXIgbGF0ZXggPSB7CiAgICAgICAgJ1x1MDBBMCc6ICd+JywKICAgICAgICAnXHUwMEIxJzogJ1xcKFxccG1cXCknLAogICAgICAgICdcdTIwMTMnOiAnLS0nLAogICAgICAgICdcdTIwMTQnOiAnLS0tJywKICAgICAgICAnXHUyMDI2JzogJ1xcdGV4dGVsbGlwc2lzJywKICAgICAgICAnXHUyMTkwJzogJ1xcKFxcbGVmdGFycm93XFwpJywKICAgICAgICAnXHUyMTkyJzogJ1xcKFxccmlnaHRhcnJvd1xcKScsCiAgICAgICAgJ1x1MjIxMic6ICdcXCgtXFwpJywKICAgICAgICAnXHUwMEQ3JzogJ1xcKFxcdGltZXNcXCknLAogICAgICAgICdcdTIyNjAnOiAnXFwoXFxuZXFcXCknLAogICAgICAgICdcdTAwQUInOiAnXFxndWlsbGVtb3RsZWZ0JywKICAgICAgICAnXHUwMEJCJzogJ1xcZ3VpbGxlbW90cmlnaHQnLAogICAgICAgICdcdTIwMTgnOiAnYCcsCiAgICAgICAgJ1x1MjAxOSc6ICdcJycsCiAgICAgICAgJ1x1MjAzMic6ICdcXChcJ1xcKScsCiAgICAgICAgJ1x1MjAzMyc6ICdcXChcJ1wnXFwpJywKICAgICAgICAnXHUyMDFDJzogJ2BgJywKICAgICAgICAnXHUyMDFEJzogJ1wnXCcnLAogICAgfTsKCiAgICB2YXIgcG9zdCA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKICAgICAgICBfX3Byb3RvX186IG51bGwsCiAgICAgICAgaHRtbDogaHRtbCQxLAogICAgICAgIGxhdGV4OiBsYXRleAogICAgfSk7CgogICAgZnVuY3Rpb24gbWF0cml4KG4sIG0pIHsKICAgICAgICB2YXIgbWF0ID0gbmV3IEFycmF5KG4pOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIG1hdFtpXSA9IG5ldyBBcnJheShtKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1hdDsKICAgIH0KCiAgICBmdW5jdGlvbiBhcmdtaW4odmFscykgewogICAgICAgIHZhciBtaW4gPSAwOwogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdmFscy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBpZiAodmFsc1tpXSA8IHZhbHNbbWluXSkgewogICAgICAgICAgICAgICAgbWluID0gaTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gbWluOwogICAgfQoKICAgIGZ1bmN0aW9uIGFsaWduKGZzdCwgc25kKSB7CiAgICAgICAgdmFyIG4gPSBmc3QubGVuZ3RoOwogICAgICAgIHZhciBtID0gc25kLmxlbmd0aDsKCiAgICAgICAgLy8gZWRpdCBkaXN0YW5jZSBtYXRyaXgKICAgICAgICB2YXIgZGlzdCA9IG1hdHJpeChuICsgMSwgbSArIDEpOwogICAgICAgIC8vIGluZGljZXMgdG8gc3RyaW5ncyB3aGVyZSB0aGUgY2hhcnMgYXJlIGVxdWFsCiAgICAgICAgdmFyIGVxdWFsID0gW107CgogICAgICAgIC8vIE5PVEU6IHRoZXNlIHdlaWdodHMgbXVzdCBiZSBzZXQgaW4gYSB3YXkgdGhhdCB0aGV5IGJ1aWxkIHN1Y2ggdGFibGVzIHdoaWNoIGxlYWQgdG8gYWxpZ25tZW50cwogICAgICAgIC8vICAgICAgIGNvcnJlc3BvbmRpbmcgdG8gYWN0dWFsIHJ1bGVzIHRyYW5zZm9ybWF0aW9ucyBwZXJmb3JtZWQgYnkgdGlwb2dyYXBoCiAgICAgICAgdmFyIGlucyA9IDM7CiAgICAgICAgdmFyIGRlbCA9IDE7CiAgICAgICAgdmFyIHN1YiA9IDM7CgogICAgICAgIC8vIHNldCB0aGUgInRyaXZpYWwiIGNlbGxzCiAgICAgICAgZGlzdFswXVswXSA9IDA7CgogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbTsgaysrKSB7CiAgICAgICAgICAgIGRpc3RbMF1bayArIDFdID0gZGlzdFswXVtrXSArIGluczsKICAgICAgICB9CgogICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbjsgbCsrKSB7CiAgICAgICAgICAgIGRpc3RbbCArIDFdWzBdID0gZGlzdFtsXVswXSArIGRlbDsKICAgICAgICB9CgogICAgICAgIC8vIGJ1aWxkIHRoZSB0YWJsZQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbTsgaisrKSB7CiAgICAgICAgICAgICAgICBpZiAoZnN0W2ldID09PSBzbmRbal0pIHsKICAgICAgICAgICAgICAgICAgICBkaXN0W2kgKyAxXVtqICsgMV0gPSBkaXN0W2ldW2pdOwogICAgICAgICAgICAgICAgICAgIGVxdWFsLnB1c2goW2ksIGpdKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgLy8gZF9kZWwsIGRfc3ViLCBkX2lucwogICAgICAgICAgICAgICAgICAgIHZhciBkaXN0cyA9IFtkaXN0W2ldW2ogKyAxXSArIGRlbCwgZGlzdFtpXVtqXSArIHN1YiwgZGlzdFtpICsgMV1bal0gKyBpbnNdOwogICAgICAgICAgICAgICAgICAgIHZhciBtaW4gPSBhcmdtaW4oZGlzdHMpOwogICAgICAgICAgICAgICAgICAgIGRpc3RbaSArIDFdW2ogKyAxXSA9IGRpc3RzW21pbl07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChlcXVhbC5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgLy8gbm8gY2hhcmFjdGVycyBhcmUgZXF1YWwKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8gZmluZCB0aGUgaW5kaWNlcyB3aG9zZSBjaGFyYWN0ZXJzIGhhdmUgdGhlIG1pbmltYWwgZGlzdGFuY2UKICAgICAgICAgICAgdmFyIG91dCA9IGFyZ21pbihlcXVhbC5tYXAoZnVuY3Rpb24gKGNvb3JkcykgewogICAgICAgICAgICAgICAgcmV0dXJuIGRpc3RbY29vcmRzWzBdICsgMV1bY29vcmRzWzFdICsgMV07CiAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIHJldHVybiBlcXVhbFtvdXRdOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBmaW5kKG9yaWdpbmFsLCBjb252ZXJ0ZWQpIHsKICAgICAgICAvLyBhZGQgc2VudGluZWwgY2hhcnMgd2hpY2ggYWx3YXlzIG1hdGNoIGVhY2ggb3RoZXIKICAgICAgICBvcmlnaW5hbCArPSAnXDAnOwogICAgICAgIGNvbnZlcnRlZCArPSAnXDAnOwoKICAgICAgICB2YXIgY2hhbmdlcyA9IFtdOwogICAgICAgIHZhciBpID0gMDsKICAgICAgICB2YXIgaiA9IDA7CiAgICAgICAgd2hpbGUgKGkgPCBvcmlnaW5hbC5sZW5ndGggJiYgaiA8IGNvbnZlcnRlZC5sZW5ndGgpIHsKICAgICAgICAgICAgaWYgKG9yaWdpbmFsW2ldID09IGNvbnZlcnRlZFtqXSkgewogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgaisrOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIGFsaWdubWVudDsKICAgICAgICAgICAgICAgIC8vIE5PVEU6IHRoaXMgYm91bmQgbXVzdCBiZSBsYXJnZSBlbm91Z2ggdG8gY292ZXIgdGhlIGxvbmdlc3QgcnVsZSB0cmFuc2Zvcm1hdGlvbgogICAgICAgICAgICAgICAgdmFyIGJvdW5kID0gMTA7CgogICAgICAgICAgICAgICAgLy8gTk9URTogdGhpcyBsb29wIGlzIGd1YXJhbnRlZWQgdG8gdGVybWluYXRlIGJlY2F1c2Ugb2YgJ1wwJ3MgYXQgdGhlIGVuZHMKICAgICAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQgPSBhbGlnbihvcmlnaW5hbC5zbGljZShpLCBpICsgYm91bmQpLCBjb252ZXJ0ZWQuc2xpY2UoaiwgaiArIGJvdW5kKSk7CiAgICAgICAgICAgICAgICAgICAgYm91bmQgKj0gMjsKICAgICAgICAgICAgICAgIH0gd2hpbGUgKGFsaWdubWVudCA9PT0gbnVsbCk7CgogICAgICAgICAgICAgICAgY2hhbmdlcy5wdXNoKFtbaSwgaSArIGFsaWdubWVudFswXV0sIFtqLCBqICsgYWxpZ25tZW50WzFdXV0pOwogICAgICAgICAgICAgICAgaSArPSBhbGlnbm1lbnRbMF0gKyAxOwogICAgICAgICAgICAgICAgaiArPSBhbGlnbm1lbnRbMV0gKyAxOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gY2hhbmdlczsKICAgIH0KCiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7CiAgICAgICAgZm9ybWF0OiAncGxhaW4nLAogICAgICAgIGxhbmd1YWdlOiAnZW5nbGlzaCcsCiAgICAgICAgcHJlc2V0czogT2JqZWN0LmtleXMocHJlc2V0cyksCiAgICAgICAgb3B0aW9uczoge30sCiAgICB9OwoKICAgIGZ1bmN0aW9uIGdldEZvcm1hdChvcHRpb24pIHsKICAgICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXRzW29wdGlvbl0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZm9ybWF0c1tvcHRpb25dKCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgJ1Vuc3VwcG9ydGVkIGZvcm1hdDogJyArIG9wdGlvbiArICcuIENob29zZSBvbmUgZnJvbSAnICsKICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhmb3JtYXRzKS5qb2luKCcsICcpICsgJyBvciBwYXNzIGEgZnVuY3Rpb24uJwogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICByZXR1cm4gb3B0aW9uKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGb3JtYXQgb3B0aW9uIG11c3QgYmUgZWl0aGVyIHN0cmluZyBvciBmdW5jdGlvbi4nKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2Uob3B0aW9uKSB7CiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgIGlmICh0eXBlb2YgbGFuZ3VhZ2VzW29wdGlvbl0gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VzW29wdGlvbl07CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgJ1Vuc3VwcG9ydGVkIGxhbmd1YWdlOiAnICsgb3B0aW9uICsgJy4gQ2hvb3NlIG9uZSBmcm9tICcgKwogICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGxhbmd1YWdlcykuam9pbignLCAnKSArICcgb3IgcGFzcyBhIG9iamVjdC4nCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9uID09PSAnb2JqZWN0JykgewogICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbi5xdW90ZXMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBvcHRpb24ucXVvdGVzID0gZW5nbGlzaC5xdW90ZXM7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9uLmRhc2ggPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBvcHRpb24uZGFzaCA9IGVuZ2xpc2guZGFzaDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb24ucnVsZXMgPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICBvcHRpb24ucnVsZXMgPSBlbmdsaXNoLnJ1bGVzOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBUT0RPOiBjaGVjayBjb3JyZWN0IG9wdGlvbiBpbnRlcmZhY2UKCiAgICAgICAgICAgIHJldHVybiBvcHRpb247CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMYW5ndWFnZSBvcHRpb24gbXVzdCBiZSBlaXRoZXIgc3RyaW5nIG9yIG9iamVjdC4nKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UHJlc2V0cyhvcHRpb24sIGxhbmd1YWdlLCBvcHRpb25zKSB7CiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0aW9uKSkgewogICAgICAgICAgICByZXR1cm4gb3B0aW9uLm1hcChmdW5jdGlvbiAocHJlc2V0KSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByZXNldCA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHByZXNldHNbcHJlc2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgICAgICAgICAgICAgICAgICdVbnN1cHBvcnRlZCBwcmVzZXQ6ICcgKyBwcmVzZXQgKyAnLiBDaG9vc2Ugb25lIGZyb20gJyArIE9iamVjdC5rZXlzKHByZXNldHMpLmpvaW4oJywgJykgKyAnLicKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJlc2V0ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHByZXNldChsYW5ndWFnZSwgb3B0aW9ucyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBwcmVzZXRzW3ByZXNldF0obGFuZ3VhZ2UsIG9wdGlvbnMpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1ByZXNldHMgb3B0aW9uIG11c3QgYmUgZWl0aGVyIGFycmF5IGNvbnRhaW5pbmcgYSBwcmVzZXQgbmFtZSBvciBwcmVzZXQgZGVmaW5pdGlvbi4nKTsKICAgICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gZ2V0UG9zdChvcHRpb24pIHsKICAgICAgICBpZiAodHlwZW9mIHBvc3Rbb3B0aW9uXSAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgcmV0dXJuIHBvc3Rbb3B0aW9uXTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb24gPT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbiA9PT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKAogICAgICAgICAgICAgICAgJ1Vuc3VwcG9ydGVkIHBvc3Rwcm9jZXNzaW5nIGZvcm1hdDogJyArIG9wdGlvbiArICcuIENob29zZSBvbmUgZnJvbSAnICsKICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKHBvc3QpLmpvaW4oJywgJykgKyAnIG9yIHBhc3MgYSBvYmplY3QuJwogICAgICAgICAgICApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9zdCBvcHRpb24gbXVzdCBiZSBzdHJpbmcgY29ycmVzcG9uZGluZyB0byBhbiBhdmFpbGFibGUgcG9zdHByb2Nlc3NpbmcgZm9ybWF0LicpOwogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB0aXBvZ3JhcGgob3B0aW9ucykgewogICAgICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7CgogICAgICAgIHZhciBmb3JtYXQgPSBnZXRGb3JtYXQob3B0aW9ucy5mb3JtYXQpOwogICAgICAgIHZhciBsYW5ndWFnZSA9IGdldExhbmd1YWdlKG9wdGlvbnMubGFuZ3VhZ2UpOwogICAgICAgIHZhciBwaXBlbGluZSA9IGdldFByZXNldHMob3B0aW9ucy5wcmVzZXRzLCBsYW5ndWFnZSwgb3B0aW9ucy5vcHRpb25zKTsKICAgICAgICB2YXIgcG9zdE1hcCA9IGdldFBvc3Qob3B0aW9ucy5wb3N0KTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpbnB1dCwgY2FsbGJhY2spIHsKICAgICAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHsKICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT25seSBzdHJpbmdzIGFyZSBzdXBwb3J0ZWQgYXMgaW5wdXQuJyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHByZXByb2Nlc3MgaW5wdXQKICAgICAgICAgICAgdmFyIHByb2Nlc3NlZCA9IGZvcm1hdChpbnB1dCk7CgogICAgICAgICAgICB2YXIgdG9rZW5zID0gW107CiAgICAgICAgICAgIHZhciBjb250ZW50ID0gJyc7CgogICAgICAgICAgICAvLyBjb25jYXRlbmF0ZSB0b2tlbnMgYnV0IHJlcGxhY2UgZWFjaCBmb3JtYXR0aW5nIHRva2VuIHdpdGggYSBwbGFjZWhvbGRlcgogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb2Nlc3NlZC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgaWYgKHByb2Nlc3NlZFtpXS50cmFuc2Zvcm0pIHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9IHByb2Nlc3NlZFtpXS5jb250ZW50OwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb250ZW50ICs9ICdcdTIwMEI8dGlwb2dyYXBoWycgKyB0b2tlbnMubGVuZ3RoICsgJ10+XHUyMDBCJzsKICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaChwcm9jZXNzZWRbaV0uY29udGVudCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIGFwcGx5IHRyYW5zZm9ybWF0aW9ucwogICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHBpcGVsaW5lLmxlbmd0aDsgcCsrKSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHBpcGVsaW5lW3BdLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGUgPSBwaXBlbGluZVtwXVtyXTsKCiAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZShydWxlWzBdLCBydWxlWzFdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8gcmVwbGFjZSBwbGFjZWhvbGRlcnMgd2l0aCB0aGVpciBvcmlnaW5hbCBjb250ZW50CiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2UoL1x1MjAwQjx0aXBvZ3JhcGhcWyhcZCspXF0+XHUyMDBCL2csIGZ1bmN0aW9uIChtYXRjaCwgaW5kZXgpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0b2tlbnNbaW5kZXhdOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChwb3N0TWFwICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICB2YXIgcG9zdHByb2Nlc3NlZCA9ICcnOwogICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb250ZW50Lmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwb3N0TWFwW2NvbnRlbnRbal1dID09PSAnc3RyaW5nJykgewogICAgICAgICAgICAgICAgICAgICAgICBwb3N0cHJvY2Vzc2VkICs9IHBvc3RNYXBbY29udGVudFtqXV07CiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgcG9zdHByb2Nlc3NlZCArPSBjb250ZW50W2pdOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBwb3N0cHJvY2Vzc2VkOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICAgICAgICB2YXIgY2hhbmdlcyA9IGZpbmQoaW5wdXQsIGNvbnRlbnQpOwogICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNvbnRlbnQsIGNoYW5nZXMpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7CiAgICAgICAgICAgIH0KICAgICAgICB9OwogICAgfQoKICAgIHRpcG9ncmFwaC5leHRlbmQgPSBmdW5jdGlvbiAoZXh0ZW5zaW9ucykgewogICAgICAgIHZhciBuYW1lcyA9IE9iamVjdC5rZXlzKHByZXNldHMpOwoKICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShleHRlbnNpb25zKSkgewogICAgICAgICAgICByZXR1cm4gbmFtZXMuY29uY2F0KGV4dGVuc2lvbnMpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4dGVuc2lvbnMgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJlc2V0cyBjYW4gYmUgZXh0ZW5kZWQgb25seSB3aXRoIGFuIGFycmF5IG9mIGN1c3RvbSBwcmVzZXRzJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIG5hbWVzOwogICAgICAgIH0KICAgIH07CgogICAgLy8gZGVwcmVjYXRlZAogICAgdGlwb2dyYXBoLnByZXNldHMgPSB0aXBvZ3JhcGguZXh0ZW5kOwoKICAgIC8vIGV4cG9ydCBzb21lIGludGVybmFscwogICAgdGlwb2dyYXBoLnF1b3RlcyA9IHF1b3RlczsKICAgIHRpcG9ncmFwaC5sYW5ndWFnZXMgPSBsYW5ndWFnZXM7CgogICAgcmV0dXJuIHRpcG9ncmFwaDsKCn0oKSk7Cg=="},"10-tipograph/tipograph-extensions.js":{"timestamp":1603739748244,"data":"Qml3YVNjaGVtZS5kZWZpbmVfbGliZnVuYygic21hcnQtcXVvdGVzIiwgMSwgMSwgZnVuY3Rpb24oYXIsaW50cCl7CiAgICBCaXdhU2NoZW1lLmFzc2VydF9zdHJpbmcoYXJbMF0pOwogICAgcmV0dXJuIEZyb25rZW5zdGVlbi5zbWFydFF1b3RlcyhhclswXSk7CiAgfSkKCkZyb25rZW5zdGVlbi5zbWFydFF1b3RlcyA9IHRpcG9ncmFwaCgpOwo="},"10-tipograph/LICENSE-tipograph.md":{"timestamp":1603739748245,"data":"VGhlIE1JVCBMaWNlbnNlIChNSVQpCgpDb3B5cmlnaHQgKGMpIDIwMjAgUGV0ciBOZXZ5aG/FoXTEm27DvQoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4K"}}